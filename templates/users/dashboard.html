{% extends 'base.html' %}
{% block title %}Dashboard - JanaSeva Hospital{% endblock %}

{% block content %}
<section style="padding:40px; max-width:1200px; margin:auto; font-family:'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;">
    <h1 style="text-align:center; margin-bottom:30px;">Your Appointments</h1>
    {% if appointments %}
    <div style="display:grid; grid-template-columns: repeat(auto-fit, minmax(300px, 1fr)); gap:20px;">
        {% for appointment in appointments %}
        <div class="appointment-card">
            <img src="{{ appointment.doctor.profile_image.url }}" alt="{{ appointment.doctor.name }}" class="doctor-img">
            <h3>{{ appointment.doctor.name }}</h3>
            <p><strong>Specialization:</strong> {{ appointment.doctor.specialization }}</p>
            <p><strong>Disease:</strong> {{ appointment.disease }}</p>
            <p><strong>Date:</strong> {{ appointment.date }} | <strong>Time:</strong> {{ appointment.time }}</p>
            <p><strong>Status:</strong> {{ appointment.status }}</p>
            <a href="{% url 'appointment_success' appointment.id %}" class="btn-token">ðŸ“„ View / Download Token</a>
        </div>
        {% endfor %}
    </div>
    {% else %}
        <p style="text-align:center;">You have no appointments booked yet.</p>
    {% endif %}
</section>

<style>
.appointment-card {
    background: #ffffff;
    border-radius: 15px;
    padding: 20px;
    box-shadow: 0 10px 25px rgba(0,0,0,0.1);
    text-align:center;
    transition: transform 0.3s, box-shadow 0.3s;
}
.appointment-card:hover {
    transform: translateY(-5px);
    box-shadow: 0 15px 30px rgba(0,0,0,0.2);
}
.doctor-img {
    width:100px;
    height:100px;
    border-radius:50%;
    object-fit:cover;
    margin-bottom:10px;
}
.btn-token {
    display:inline-block;
    background-color:#ff9800;
    color:white;
    padding:10px 20px;
    border-radius:8px;
    text-decoration:none;
    margin-top:10px;
    transition: all 0.3s ease;
}
.btn-token:hover {
    transform: scale(1.05);
    box-shadow:0 6px 15px rgba(0,0,0,0.3);
}
</style>
{% endblock %}
